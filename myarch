timedatectl set-ntp true
mkfs.vfat -F32 /dev/sda1
mkfs.btrfs -f /dev/sda2
mount /dev/sda2 /mnt
mkdir /mnt/boot
mount /dev/sda1 /mnt/boot
cp /etc/pacman.d/mirrorlist /etc/pacman.d/mirrorlist.bkp
cat /etc/pacman.d/mirrorlist.bkp | awk '/^## Brazil$/{f=1; next}f==0{next}/^$/{exit}{print substr($0, 1); f=0}' > /etc/pacman.d/mirrorlist
pacstrap /mnt base base-devel linux-lts linux-firmware dosfstools pacman-contrib grub-efi-x86_64 efibootmgr os-prober mtools network-manager-applet networkmanager wpa_supplicant wireless_tools dialog sudo bash-completion neofetch btrfs-progs git wget xdg-user-dirs xorg-server xorg-xinit xterm xf86-input-synaptics acpid pulseaudio nano vim intel-ucode
cp /etc/pacman.d/mirrorlist.bkp /mnt/etc/pacman.d/mirrorlist.bkp
ln -sf /mnt/usr/share/zoneinfo/America/Fortaleza /mnt/etc/localtime
arch-chroot /mnt hwclock --systohc --utc
sed -i 's/#\('pt_BR'\)/\1/' /mnt/etc/locale.gen
arch-chroot /mnt locale-gen
echo LANG=pt_BR.UTF-8 >> /mnt/etc/locale.conf
echo KEYMAP=br-abnt2 >> /mnt/etc/vconsole.conf
echo steniopc >> /mnt/etc/hostname
echo -e "127.0.0.1 localhost.localdomain localhost\n::1 localhost.localdomain localhost\n127.0.1.1 steniopc.localdomain steniopc" > /mnt/etc/hosts
arch-chroot /mnt passwd
arch-chroot /mnt useradd -m -g users -G wheel stenio
arch-chroot /mnt passwd stenio
arch-chroot /mnt grub-install --target=x86_64-efi --efi-directory=/boot --bootloader-id=Archlinux --recheck
cp /mnt/usr/share/locale/en@quot/LC_MESSAGES/grub.mo /mnt/boot/grub/locale/en.mo
arch-chroot /mnt grub-mkconfig -o /boot/grub/grub.cfg
arch-chroot /mnt mkinitcpio -p linux-lts
genfstab -U /mnt >> /mnt/etc/fstab
arch-chroot /mnt systemctl enable NetworkManager
#29. nano /etc/sudoers
#33. nmtui
#34. pacman -S intel-ucode
#34. pacman -S amd-ucode
#35. pacman -S xf86-video-intel libgl mesa
#35. grub-mkconfig -o /boot/grub/grub.cfg
